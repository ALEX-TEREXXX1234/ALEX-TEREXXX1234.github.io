<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Лабораторная работа №12</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<script language="JavaScript" type="text/JavaScript">
<!--
function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.01
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && d.getElementById) x=d.getElementById(n); return x;
}

function MM_nbGroup(event, grpName) { //v6.0
  var i,img,nbArr,args=MM_nbGroup.arguments;
  if (event == "init" && args.length > 2) {
    if ((img = MM_findObj(args[2])) != null && !img.MM_init) {
      img.MM_init = true; img.MM_up = args[3]; img.MM_dn = img.src;
      if ((nbArr = document[grpName]) == null) nbArr = document[grpName] = new Array();
      nbArr[nbArr.length] = img;
      for (i=4; i < args.length-1; i+=2) if ((img = MM_findObj(args[i])) != null) {
        if (!img.MM_up) img.MM_up = img.src;
        img.src = img.MM_dn = args[i+1];
        nbArr[nbArr.length] = img;
    } }
  } else if (event == "over") {
    document.MM_nbOver = nbArr = new Array();
    for (i=1; i < args.length-1; i+=3) if ((img = MM_findObj(args[i])) != null) {
      if (!img.MM_up) img.MM_up = img.src;
      img.src = (img.MM_dn && args[i+2]) ? args[i+2] : ((args[i+1])? args[i+1] : img.MM_up);
      nbArr[nbArr.length] = img;
    }
  } else if (event == "out" ) {
    for (i=0; i < document.MM_nbOver.length; i++) {
      img = document.MM_nbOver[i]; img.src = (img.MM_dn) ? img.MM_dn : img.MM_up; }
  } else if (event == "down") {
    nbArr = document[grpName];
    if (nbArr)
      for (i=0; i < nbArr.length; i++) { img=nbArr[i]; img.src = img.MM_up; img.MM_dn = 0; }
    document[grpName] = nbArr = new Array();
    for (i=2; i < args.length-1; i+=2) if ((img = MM_findObj(args[i])) != null) {
      if (!img.MM_up) img.MM_up = img.src;
      img.src = img.MM_dn = (args[i+1])? args[i+1] : img.MM_up;
      nbArr[nbArr.length] = img;
  } }
}
//-->
</script>
</head>

<body bgcolor="#FFCC99">
<blockquote>
  <div align="left">
    <table border="0" cellpadding="0" cellspacing="0">
      <tr> 
        <td><a href="003.htm" target="_self" onClick="MM_nbGroup('down','group1','Back','',1)" onMouseOver="MM_nbGroup('over','Back','','',1)" onMouseOut="MM_nbGroup('out')"><img src="img/Back.gif" alt="" name="Back" width="73" height="22" border="0" onload=""></a></td>
        <td><a href="main12.htm" target="_self" onClick="MM_nbGroup('down','group1','Menu','',1)" onMouseOver="MM_nbGroup('over','Menu','','',1)" onMouseOut="MM_nbGroup('out')"><img src="img/Menu.gif" alt="" name="Menu" width="73" height="22" border="0" onload=""></a></td>
      </tr>
    </table>
  </div>
</blockquote>
<div align="center">
  <p align="center"><em><font size="5"><strong>Дискриминантый анализ: диагностика 
    приступов острого аппендицита </strong></font> </em> </p>
  <p align="justify"><br>
    Дискриминантным анализом называют раздел многомерного статического анализа, 
    содержащий статистические методы классификации многомерных наблюдений по одной 
    из нескольких категорий или совокупностей. Предполагается также, что исследователь 
    обладает так называемыми обучающими выборками («классификация с учителем»). 
    Этот раздел статистики обширен и разнообразен. В STATGRAPHICS Plus for Windows 
    реализован классический вариант дискриминантного анализа, основанный на определении 
    канонических направлений в исходном пространстве признаков, удовлетворяющих 
    следующему критерию: </p>
  <p align="justify"><em>J=(дисперсия_между_векторами)/(дисперсия_внутри_классов)=max 
    </em> </p>
  <p align="justify">Весовой вектор w, удовлетворяющий данному данному критерию, 
    исходя из геометрической интерпретации задают новую координатную ось в исходном 
    p-мерном пространстве признаков y(x)=w^T x(w=1) с максимальной неоднородностью 
    исследуемой совокупности объектов. Новой оси соответствует, по существу, первая 
    главная компонента объединенной совокупности объектов, полученная с учетом 
    дополнительной обучающей информации о принадлежности их к различным классам.<br>
    Весовой вектор w, при котором достигается максимальное значение критерия, 
    определяется в результате решения обобщенной задачи на собственные значения: 
    <br>
    (С - IS)w=0,<br>
    где С - ковариационная матрица объединенной совокупности объектов;<br>
    S -ковариационная матрица одного класса объектов (предполагается , что ковариационные 
    матрицы разных классов равны).<br>
    Всего существует p собственных векторов, удовлетворяющих приведенному уравнению. 
    Их можно упорядочить по величине собственных чисел и получить систему ортогональных 
    канонических направлений w_1,…,w_p<br>
    Имеются определенные вариации применения классического дискриминантного анализа 
    в различных пакетах анализа данных. Особенности его реализации в STATGRAPHICS 
    Plus for Windows будут рассмотрены на примере построения решающих правил для 
    дифференциальной диагностики острого аппендицита. Данные (табл 2.1) заимствованы 
    из книги: Григорьев С.Г., Перфилов А.М., Левандовский В.В., Юнкиров В.И., 
    STATGRAPHICS на персональном компьютере. спб 1992.<br>
    Таблица 2.1 Симптомы острого аппендицита и их коды<br>
    <img src="img/file_04_01.png" width="838" height="643"><br>
    Многие люди либо на собственном опыте, либо на случаях с родными и близкими 
    воочию убедились, как бывает важно и вместе с тем, непросто установить точный 
    диагноз острого аппендицита. Это достаточно тонкая проблема, нередко требующая 
    привлечения знаний и умений врача самой высокой квалификации.<br>
    В качестве исходной информации использовались данные клиники, в которых зарегистрированы 
    результаты обследования 103 человек с установленным диагнозом :<br>
    группа 1-гангренозный аппендицит (28 наблюдений), группа 2-флегмонозный аппендицит 
    (25 наблюдений), группа 3 – катаральный аппендицит (26 наблюдений) и группа 
    4 – неподтвержденный диагноз (24 наблюдения). Исходными признаками служили 
    8 симптомов охарактеризованных в таблице 2.5.<br>
    Вводим представленные данные в электронную таблицу STATGRAPHICS. Сохраняем 
    их в файле под именем appendix.<br>
    Для проведения дискриминантного анализа выбираем Special | Multivariate Methods 
    | Discriminant Analysis. Получаем окно диалога дискриминантного анализа и 
    вводим в поле Classification Factor (классифицирующий фактор ) переменную 
    с именем groop, в поле Data (данные) – переменные х1, х2, х3, х4, х5, х6, 
    х7 и х8 (рис 2.26)</p>
  <p align="justify"><img src="img/file_04_02.png" width="520" height="494"> <br>
    Рис 2.26 Окно дискриминантного анализа</p>
  <p align="justify"> Нажимаем ОК. На экран выдается сводка дискриминантного анализа 
    (рис. 2.27) <br>
    Таблица содержит характеристики трех выделенных дискриминантных функций (Discriminant 
    Function): собственные значения (Eigenvalue), вклад каждой функции в объяснение 
    дисперсии симптомов (Relativa Percentage) в %-х канонические корреляции с 
    классифицирующим фактором (Canonical Correlayion) и оценки уровня значимости 
    дискриминантных функций по критериям Лямбда и Хи-квадрат. Как следует из приведенных 
    цифр, для решения диагностической задачи достаточно применить две дискриминантные 
    функции F1 и F2, на которые в сумме приходится 98.33% дисперсии симптомов.</p>
  <p align="justify">Таблица 2.5 Результаты клинического обследования </p>
  <p align="justify"><img src="img/file_04_03.png" width="437" height="741"> </p>
  <p align="justify"> Таблица 2.5 Результаты клинического обследования (продолжение)<br>
    <img src="img/file_04_04.png" width="447" height="749"> </p>
  <p align="justify"><img src="img/file_04_05.png" width="792" height="354"></p>
  <p align="justify">Рис 2.27. Сводка дискриминантного анализа</p>
  <p align="justify"><img src="img/file_04_06.png" width="785" height="437"> </p>
  <p align="justify">Рис. 2.28. Коэффициенты дискриминантных функций</p>
  <p align="justify">Нажмем кнопку табличных опций (вторая слева вверху) и установим 
    флажок Discriminant Function. Нажмем ОК. Получаем таблицы, показанные на рис 
    2.28.<br>
    Первая таблица содержит коэффициенты трех дискриминантных функций в стандартизированном 
    виде. Для расчета по этим функциям в них следует подставлять стандартизированные 
    значения исходных признаков. Вторая таблица включает константы и коэффициенты 
    дискриминантных функций F1 и F2, в которые вводятся натуральные значения признаков 
    :<br>
    F1=-6.05+0.67*х1+0,33*х2+0,34*х3+0,46*х4+0,66*х5+0,73*х6+0,45*х7+0,8*х8,<br>
    F2=0.12-0.17*х1+0,97*х2-1,03*х3-0,71*х4+0,26*х5-0,04*х6+0,33*х7-0,31*х8<br>
    Вызовем ещё раз окно табличных опций и попросим выдать на экран результаты 
    расчета координат центроидов групп, а также групповых статистик.<br>
    По данным представленным на рис. 2.29, можно уяснить, каковы средние значения 
    симптомов в каждой группе больных и какова их вариация относительно средних. 
    Видно, что по отдельно взятым разрозненным симптомам невозможно добиться постановки 
    удовлетворительного диагноза. Здесь налицо многомерная диaгностическая задача, 
    когда только совокупное взаимодействие признаков способно в той или иной степени 
    отражать разбиение объектов на классы по актуальному критерию.<br>
    <img src="img/file_04_07.png" width="794" height="166"><br>
    Рис 2.29. Значение групповых центроидов<br>
    Для графического отображения результатов нажмем кпопку графических опций (третья 
    слева вверху) и в предоставленном окне диалога закажем график дискриминантных 
    функций (Discriminant Functions). Получаем рис 2.30</p>
  <p align="justify"> <img src="img/file_04_08.png" width="864" height="358"><br>
    Рис 2.30. Значения групповых статистик</p>
  <p align="justify">На диаграмме рассеивания (рис 2.31) хорошо видно, что объекты 
    4-го класса (неподтвержденный диaгноз) образуют самостоятельную, четко выраженную 
    грyппировку, не пересекающуюся с другими классами. В то же время остальные 
    классы имеют значительные пересечения в пространстве дискриминантных функций. 
    В принципе уже по этой картине можно составить диагностическое правило. Оно 
    будет заключаться в вычислении расстояния от диагностируемого объекта до центроидов 
    классов в пространстве канонических дискримииаитных функций. Вместе с тем 
    более точные результаты диагностики дает применеиие линейных дискриминантных 
    функций Фишера, параметры которых также определяются в рамках процедуры дискриминантного 
    анализа STATGRAPHICS. Они здесь имеют название классифицирующих функций (Classification 
    Functions). Кратко охарактеризуем их. <br>
    Весовые коэффициенты классифицирующих функций определяются по следующей формуле:<br>
    w_i=S^(-1) m_i (i=1,K)<br>
    <img src="img/file_04_09.png" width="761" height="375"> </p>
  <p align="justify">Рис. 2.31. Диаграмма рассеивания объектов на плоскости первых 
    двух дискриминантных функций </p>
  <p align="justify">где S- матрица ковариаций диагностического класса;<br>
    m_i- вектор средних i-го диагностического класса;<br>
    К - количество классов. <br>
    Порогoвые величины вычисляются как <br>
    _oi=-1/2 w_i^T m_i+lnP_i (i=(1,K) )<br>
    Где P_i-априорная вероятность i-го класса.<br>
    Правило диaгностики с применением классифицирующих функций следующее: объект 
    х относится к i-мy классу, если выполняется условие <br>
    g_i (x)=maxT(j=(1,K)  )g_i (x)<br>
    Где g_i (x)=w_i^T x-w_0j<br>
    Доступ к классифицирующим функциям осуществляется через окно диалога задания 
    та6личных опций. Ниже приводятся полученные параметры этих функций (рис. 2.32). 
  </p>
  <p align="justify"> <img src="img/file_04_10.png" width="769" height="217"><br>
    Рис. 2.32. Коэффициенты классифицирующих функций<br>
    Для количественного выражения результатов применения классифицирующих функций 
    обратимся снова к окну диалога задания та6личных опций (нажав вторую слева 
    кнопку) и установим флажок Classification Тablе. Hажимаем ОК. Получаем две 
    та6лицы (рис. 2.33 и 2.34). <br>
    <img src="img/file_04_11.png" width="794" height="274"><br>
    Рис 2.33. Сводные результаты классификации</p>
  <p align="justify"> <img src="img/file_04_12.png" width="789" height="345"> 
  </p>
  <p align="justify">Рис. 2.34. Детальный разбор результатов применения классифицирующих 
    функций</p>
  <p align="justify">Из верхней таблицы черпаем сведения об итоговых результатах 
    диагностики острого аппендицита. Точность диагностики больных первой группы 
    (гангренозный аппендицит) составляет 78.57%, второй группы (флегмонозный аппендицит) 
    - 64% и третьей группы (катаральный аппендицит) - 65.38%. Это не слишком точные 
    результаты, которые, однако, могут в какой-то мере воздействовать окончательному 
    заключению клинического специалиста. Вместе с тем констатация отсутствия острого 
    аппендицита (группа 4 - неподтвержденный диагноз) осуществляется со 100% 
    надежностью, что следует считать Определенным достижением в применении методов 
    дискриминантного анализа для решения практически важных задач медицинской 
    диагностики. <br>
    Во второй та6лице дается детальный разбор результатов диагностики посредством 
    полученных классифицирующих функций. Для каждого объекта приведены значения 
    двух наибольших дискриминантных функций и результат отнесения к тому или иному, 
    классу. Неправильно классифицированные объекты помечены звездочкой. Это дает 
    пищу для дополнительных размышлений причине неудачных автоматических диагнозов. 
    <br>
    Как будет показано в следующей главе в разделе «Формирование знаний методами 
    локальной геометрии: разработка экспертной системы для диагностики острого 
    аппендицита», на основании тех же самых экспериментальных данных может быть 
    построена гораздо более эффективная система диагностических правил. ИХ определение 
    основано на применении специальной локальной геометрии, позволяющей осуществлять 
    поиск в данных логических закономерностей с использованием средств интерактивной 
    графики и методов линейной алгебры. <br>
  </p>
</div>
<div align="justify"></div>
<blockquote>
  <table border="0" cellpadding="0" cellspacing="0">
    <tr> 
      <td><a href="003.htm" target="_self" onClick="MM_nbGroup('down','group1','Back','',1)" onMouseOver="MM_nbGroup('over','Back','','',1)" onMouseOut="MM_nbGroup('out')"><img src="img/Back.gif" alt="" name="Back" width="73" height="22" border="0" onload=""></a></td>
      <td><a href="main12.htm" target="_self" onClick="MM_nbGroup('down','group1','Menu','',1)" onMouseOver="MM_nbGroup('over','Menu','','',1)" onMouseOut="MM_nbGroup('out')"><img src="img/Menu.gif" alt="" name="Menu" width="73" height="22" border="0" onload=""></a></td>
    </tr>
  </table>
  <p><font size="5"></font></p>
  </blockquote>
</body>
</html>
